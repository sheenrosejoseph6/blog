<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>  Local Storage Tutorial 2 |  HTML5 APP </title>
  <link rel="stylesheet" href="/assets/css/style-jekyll.css" />
</head>
<body>
 
  <div id="main">
 
    <header>
      <h1> </h1>
    <header>
 
    <nav role="navigation">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/blog/">Blog Posts</a></li>
      </ul>
    </nav>
 
    <h2 class="content">Local Storage Tutorial 2</h2>

<img src="/assets/img/localstorage-feature.png">

<p># Local Storage Tutorial</p>

<blockquote>
  <p>HTML 5 technologies used:</p>

  <ul>
    <li><a href="#contenteditable-overview">Contenteditable</a></li>
    <li><a href="#drag-and-drop-overview">Drag and Drop</a></li>
    <li><a href="#local-storage-overview">Local Storage</a> </li>
  </ul>
</blockquote>

<h2 id="contenteditable-overview">Contenteditable Overview</h2>
<ul>
  <li>makes any page area editable in the browser</li>
  <li>single attribute: contenteditable
    <ul>
      <li>“true”</li>
      <li>“false”</li>
      <li>“inherit”</li>
    </ul>
  </li>
  <li>Browser support
    <ul>
      <li><a href="http://caniuse.com/#search=contenteditable">Current support - Caniuse.com </a></li>
    </ul>
  </li>
  <li>Making content editable
    <ul>
      <li>To make content editable to any element in an HTML document you simply need to add the contentediable attribute:</li>
    </ul>
  </li>
</ul>

<!-- Code Snippet -->
<pre><code>&lt;div id="container"&gt;
	&lt;ul id="list" contenteditable&gt;
		&lt;li&gt;Item 1&lt;/li&gt;
		&lt;li&gt;Item 2&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;
</code></pre>

<!-- CodePen -->
<p data-height="204" data-theme-id="10000" data-slug-hash="RNwMeJ" data-default-tab="result" data-user="5daily" class="codepen">See the Pen <a href="http://codepen.io/5daily/pen/RNwMeJ/">HTML5 - contenteditable example</a> by 5daily (<a href="http://codepen.io/5daily">@5daily</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>

<h2 id="drag-and-drop-overview">Drag and Drop Overview</h2>
<ul>
  <li>HTML5 Attribute
    <ul>
      <li>One attribute called draggable.</li>
    </ul>
  </li>
</ul>

<pre><code>&lt;div id="" class="" draggable="true"&gt;&lt;/div&gt;
</code></pre>
<ul>
  <li>Javascript API
    <ul>
      <li>Seven JS Events
        <ul>
          <li>dragstart();</li>
          <li>drag();</li>
          <li>dragover();</li>
          <li>dragenter();</li>
          <li>dragleave();</li>
          <li>dragenter();</li>
          <li>drop();</li>
        </ul>
      </li>
      <li>Data Transfer (key related object)
        <ul>
          <li>dataTransfer
      * used to drag the data from a dragged object
            <ul>
              <li>Set: in the dragstart() event</li>
              <li>Put: in the drop() event</li>
            </ul>
          </li>
          <li><a href="http://caniuse.com/#search=drag%20and%20drop">Current support - Caniuse.com </a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="local-storage-overview">Local Storage Overview</h2>
<ul>
  <li>Simple and brings the concept of “state” to websites without server-side coding.
    <ul>
      <li>Local Storage vs. Cookies
        <ul>
          <li>Unlike cookie, it is stored in the browser</li>
          <li>5 MB limit vs. 4kb for cookie</li>
        </ul>
      </li>
      <li>Uses simple name/value pair structure (string only)
        <ul>
          <li>Two simple commands:
            <ul>
              <li>Set Item
                <ul>
                  <li>localStorage.setItem(“ItemName”, “ItemValue”);</li>
                </ul>
              </li>
              <li>Get Item
                <ul>
                  <li>localStorage.getItem(“ItemName”);</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="http://caniuse.com/#search=web%20storage">Current support - Caniuse.com </a>	</li>
    </ul>
  </li>
</ul>

<!-- Code Snippet -->
<p>HTML code:</p>

<pre><code>&lt;div id="container"&gt;
	&lt;ul id="list2" contenteditable&gt;
		&lt;li&gt;Item 1&lt;/li&gt;
		&lt;li&gt;Item 2&lt;/li&gt;
	&lt;/ul&gt;
	&lt;p&gt;&lt;a href=javascript.void(); id="saveAll"&gt; Save All &lt;/a&gt;&lt;/p&gt;
	&lt;p&gt;&lt;a href=javascript.void(); id="clearAll"&gt; Clear All &lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</code></pre>

<!-- Code Snippet -->
<p>Javascript code:</p>

<pre><code>&lt;script&gt;
	$(document).ready(function(){
		var theList = document.getElementById('list2');
		$('#saveAll').click(function(e){
			e.preventDefault();
			// set item (todoList) and put in theList
			localStorage.setItem('todoList', theList.innerHTML);
		});
		$('#clearAll').click(function(e){
			e.preventDefault();
			// clear all the items
			localStorage.clear();
			// reload the page
			location.reload();
		});

		// Bring in local storage items when page loads
		loadToDo();

		function loadToDo(){
			// only load in entries if they exist
			if(localStorage.getItem('todoList')) {

				theList.innerHTML = localStorage.getItem('todoList');
			}
		}
	});
&lt;/script&gt;
</code></pre>

<!-- 
	Above code in practice
	script lives in default.html
 -->

<div id="container">
    <ul id="list2" contenteditable="">
      <li>Enjoy life :)</li>
    </ul>
  <p>
  	<a href="#" id="saveAll">Save All</a>
  	<a href="#" id="clearAll">Clear All</a></p>
</div>


 
    <footer>
      <p>@copy; 5daily 2014-15 | All Rights Reserved. </p>
    </footer>
 
  </div>
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

<!-- Script for 2014-11-14-LocalStorageTutorial (need to move)-->      
<script>
  $(document).ready(function(){
 
    var theList = document.getElementById('list2');
    $("#saveAll").click(function(e) {
      e.preventDefault();
      localStorage.setItem('todoList', theList.innerHTML);
    });
    $("#clearAll").click(function(e) {
      e.preventDefault();
      localStorage.clear();
      location.reload();
    });
    
    loadToDo();
    
    function loadToDo() {
      if ( localStorage.getItem('todoList') ) {
      theList.innerHTML = localStorage.getItem('todoList'); 
      }
    }
  });
 </script>
</body>
</html>